{% extends "tasks/base.html" %}

{% block title %}
  Outstanding Tasks
{% endblock title %}

{% block content %}
  <div class="grid grid--one-column grid--tight">
    {% include "tasks/task-info-bar.jinja.html" %}
    <h2 class="task-layout__title">Outstanding Tasks</h2>
  </div>

  {% if current_user.preferences.box_packing.compact_view %}
    {% set view = "compact" %}
    {% set grid_type = "grid grid--one-column-wide grid--compact" %}
  {% else %}
    {% set view = "block" %}
    {% set grid_type = "grid grid--one-column-narrow grid--tight" %}
  {% endif %}

  <div class="{{ grid_type }}">
    {% with task_class="task task--" ~ view ~ "-layout todo", element_class="task--" ~ view ~ "-layout" %}
      {% for task in tasks %}
        {% include "tasks/templates/todo-" ~ view ~ ".jinja.html" %}
      {% endfor %}
    {% endwith %}
  </div>
{% endblock content %}
